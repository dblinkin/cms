<!DOCTYPE HTML>
<html>
 <head>
  <title>修改密码</title>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="../assets/css/dpl-min.css" rel="stylesheet" type="text/css" />
    <link href="../assets/css/bui-min.css" rel="stylesheet" type="text/css" />
    <link href="../assets/css/page-min.css" rel="stylesheet" type="text/css" />
 </head>
 <body>
  
  <div class="container">
    <div class="row">
      <form id="J_Form" class="form-horizontal span24">
        <div class="row">
          <div class="control-group span13">
            <label class="control-label">原密码：</label>
              <div class="controls" >
            	<input name="oldPassword" type="password" data-rules="{required:true,minlength:4,maxlength:20}">
          	  </div>
          </div>
        </div>
        <div class="row">
          <div class="control-group span13">
            <label class="control-label">新密码：</label>
            <div class="controls">
	          <input name="newPassword" id="newPassword" type="password" data-rules="{required:true,minlength:4,maxlength:20}">
	        </div>
          </div>
        </div>
        <div class="row">
          <div class="control-group span13">
            <label class="control-label">确认密码：</label>
            <div class="controls" >
	          <input name="confirmPassword" type="password" data-rules="{required:true, minlength:4,maxlength:20,equalTo:'#newPassword'}" data-messages="{equalTo:'请输入相同的密码'}">
	        </div>
          </div>
        </div>
        <div class="row form-actions actions-bar">
            <div class="span13 offset3 ">
              <button type="button" id="change" class="button button-primary">修改</button>
              <button type="reset" class="button button-primary">重置</button>
            </div>
        </div>
      </form>
    </div>

  </div>
  
  <script type="text/javascript" src="../assets/js/jquery-1.8.1.min.js"></script>
  <script type="text/javascript" src="../../lib/cms_manage.js"></script>
  <script type="text/javascript" src="../assets/js/bui.js"></script>
  <script type="text/javascript" src="../assets/js/config.js"></script>
  <script type="text/javascript">
    BUI.use('common/page');
  </script>
<script type="text/javascript">
BUI.use('bui/form',function (Form) {
  var form = new Form.HForm({
     srcNode : '#J_Form'
   });
  form.render();
  
  $("#change").click(function(){
	  form.valid();
	  if(form.isValid()){
		  $.ajax({
			  url : "changePassword.do",
			  data : form.serializeToObject(),
			  success : function(data){
				  BUI.Message.Alert("密码修改成功",'success');
			  }
		  });
	  }else{
		  form.focusError();
	  }
  });
});
</script>

<body>
</html> 